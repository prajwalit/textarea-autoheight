YUI.add("textareaAutoexpander",function(a){a.TextareaAutoexpander=a.Base.create("textareaAutoexpander",a.Widget,[],{_originalRows:1,_rowHeight:0,_eventHandler:null,_currentRows:1,initializer:function(b){a.log("Initializing textareaAutoexpander");var e=this.get("node");this._originalRows=e.get("rows");var d=e.get("value");var c=e.getComputedStyle("paddingTop");var f=e.getComputedStyle("paddingBottom");e.setStyles({paddingTop:0,paddingBottom:0,height:"0px"}).setContent("").set("rows","1");this._rowHeight=e.get("scrollHeight");e.setStyles({paddingTop:c,paddingBottom:c,height:"auto"});e.setContent(d)},destructor:function(){this.get("node").setStyle("overflow","auto").set("rows",this._originalRows);this._eventHandler.detach();this._eventHandler=null},renderer:function(){this.renderUI();this.bindUI();this.syncUI(true)},renderUI:function(){this.get("node").setStyle("overflow","hidden")},bindUI:function(){this._eventHandler=this.get("node").on({focus:{fn:function(b){this.syncUI()},context:this},keyup:{fn:function(b){this.syncUI()},context:this},blur:{fn:function(b){this.syncUI(true)},context:this}})},syncUI:function(b){var c=this.get("node");c.set("rows","1");var d=this.get("node").get("scrollHeight")/this._rowHeight;this._currentRows=(d>=this._originalRows?d:this._originalRows);this.get("node").set("rows",(this._currentRows+(b?0:1)))}},{ATTRS:{node:null}})},"0.0.1",{requires:["widget","base-build","node"]});